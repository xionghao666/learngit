<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
  <script src="__PUBLIC__/jquery-1.7.2.min.js"></script>
<body>
	 <form action="{:U('register/index')}" name="myform" method="post" onsubmit="return docheck()">     
                           用户名<input type="text" id="username" name="username" placeholder="必填"><font color="red"></font><font style="opacity:0.4">6-18的合法字符（字母数字下滑线）</font><br/>
                  
                              真实姓名<input type="text" id="realname" name="name" placeholder="选填"><br/>
                       
                         性别<select name="sex">
                              
                               <option value="1">男</option>
                               <option value="2">女</option>
                         </select><br/>
                    
                              地址<input type="text" id="address" name="address" placeholder="选填"><br/>
                       
                              电话<input type="text" id="phone" name="phone" placeholder="选填"><font color="red"></font><br/>
                      
                              E-mail<input type="text" id="email" name="email" placeholder="选填"><font color="red"></font><br/>
                
                 
                        
                              昵称<input type="text" id="nickname" name="nickname" placeholder="必填"><br/>
                 
                              密码<input type="password" id="pass" name="password" placeholder="密码"><font></font><font style="opacity:0.4">请设置6-16的合法字符（字母数字下滑线）</font><br/>
                     
                               再次确认密码<input type="password" id="repass" name="repassword" placeholder="二次确认"><font></font><br/>
                            <input type="submit" value="注册"/><br/>
                            </form> 
</body>
   <script>
   	 $('input:first').blur(function(){
     	 	var $username = $('input:first').val();
      
     $.get("{:U('Home/Register/ajaxName')}",{username:$username},function(msg){
              //alert(msg);
              $('input:first').next().html(msg);
              $('input:first').next().css('color','blue');

    })

   	})
    function docheck(){

      var myform = document.myform;
      if(myform.username.value.length==0){
          $('#username').next().html("用户名不可为空！！");
        return false;
      }
      if(myform.username.value.match(/^[a-zA-Z0-9_]{6,18}$/)==null){
        $('#username').next().html("用户名不合法！！");
        return false;
      }
      if(myform.phone.value.match(/^[1][3-8][0-9]{9}$/)==null){
        $('#phone').next().html('号码格式不正确！！');
        return false;
      }
      if(myform.email.value.match(/^[0-9a-zA-Z_-]+@[0-9a-zA-Z_-]+(\.[0-9a-zA-Z_-]+){0,3}$/)==null){
        $('#email').next().html('邮箱格式不正确！！');
        return false;
      }
      if(myform.password.valuematch(/^[0-9a-zA-Z_]{6,16}$/)==null){
         $('#password').next().html('密码格式不正确！！');
         return false;
      }
    }
      
   </script>
    
</html>
                      